import{aY as e,S as t,a5 as a,a6 as s,a8 as n,G as o,aU as l,aV as i,aZ as r,a_ as c,ag as p,ad as d,aj as u,c as m,ae as g,a7 as h,b as I,a as f,aq as v,ar as S,aR as T,ao as b,ah as P,ai as C,ak as L,T as O,aB as k,aE as y,aD as w,aH as R,aI as A,F as B,e as G,f as M,a$ as D}from"./detailed_results-DLxs8mbv.chunk.js";import{a2 as E,l as F,U as H,a3 as W,n as N,o as x,q as K,s as V,V as U,W as j,X as $,Z as _,_ as q,x as J,$ as Z,T as X,K as Y,L as z}from"./preset_utils-pCalmhXL.chunk.js";import{R as Q}from"./suggest_reforges_action-COs6tVdS.chunk.js";const ee={inputs:[E({fieldName:"combustThreshold",label:"Combust Threshold - Bloodlust",labelTooltip:"The value at which Combustion should be cast during Bloodlust",changeEmitter:e=>e.rotationChangeEmitter,getValue:e=>e.getSimpleRotation().combustThreshold,positive:!0}),E({fieldName:"combustLastMomentLustPercentage",label:"Combust Threshold - Last moment during Bloodlust",labelTooltip:"The value at which Combustion should be cast when Bloodlust (+ Berserking) is about to run out.",changeEmitter:e=>e.rotationChangeEmitter,getValue:e=>e.getSimpleRotation().combustLastMomentLustPercentage,positive:!0}),E({fieldName:"combustNoLustPercentage",label:"Combust Threshold - Outside of Bloodlust",labelTooltip:"The value at which Combustion should be cast when Bloodlust is not up.",changeEmitter:e=>e.rotationChangeEmitter,getValue:e=>e.getSimpleRotation().combustNoLustPercentage,positive:!0})]},te={type:"TypeAPL",prepullActions:[{action:{itemSwap:{swapSet:"Swap1"}},doAtValue:{const:{val:"-160s"}}},{action:{castSpell:{spellId:{spellId:30482}}},doAtValue:{const:{val:"-30s"}}},{action:{activateAura:{auraId:{spellId:74221,tag:2}}},doAtValue:{const:{val:"-5.5s"}}},{action:{activateAllStatBuffProcAuras:{swapSet:"Swap1",statType1:7,statType2:-1,statType3:-1}},doAtValue:{const:{val:"-5.5s"}}},{action:{castSpell:{spellId:{spellId:55342}}},doAtValue:{const:{val:"-4s"}}},{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-2.5s"}}},{action:{itemSwap:{swapSet:"Main"}},doAtValue:{const:{val:"-2.5s"}}},{action:{castSpell:{spellId:{spellId:11366}}},doAtValue:{const:{val:"-2.5s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"7s"}}}},castSpell:{spellId:{spellId:26297}}}},{action:{condition:{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"7s"}}}},castSpell:{spellId:{spellId:82174}}}},{action:{condition:{or:{vals:[{spellIsReady:{spellId:{spellId:11129}}}]}},castSpell:{spellId:{itemId:58091}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{const:{val:"10s"}}}},{cmp:{op:"OpGt",lhs:{currentManaPercent:{}},rhs:{const:{val:"25%"}}}}]}},castSpell:{spellId:{spellId:30482}}}},{action:{condition:{and:{vals:[{or:{vals:[{and:{vals:[{auraIsKnown:{auraId:{spellId:26297}}},{auraIsActive:{auraId:{spellId:26297}}},{cmp:{op:"OpLe",lhs:{currentTime:{}},rhs:{const:{val:"17s"}}}}]}},{and:{vals:[{not:{val:{auraIsKnown:{auraId:{spellId:26297}}}}},{cmp:{op:"OpGt",lhs:{auraRemainingTime:{auraId:{spellId:2825,tag:-1}}},rhs:{const:{val:"2s"}}}}]}}]}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:44457}}},{cmp:{op:"OpGt",lhs:{mageCurrentCombustionDotEstimate:{}},rhs:{const:{val:"515000"}}}}]}},castSpell:{spellId:{spellId:11129}}}},{action:{condition:{and:{vals:[{or:{vals:[{and:{vals:[{auraIsKnown:{auraId:{spellId:26297}}},{auraIsActive:{auraId:{spellId:26297}}},{cmp:{op:"OpLt",lhs:{auraRemainingTime:{auraId:{spellId:26297}}},rhs:{const:{val:"2.5s"}}}},{cmp:{op:"OpLe",lhs:{currentTime:{}},rhs:{const:{val:"17s"}}}}]}},{and:{vals:[{not:{val:{auraIsKnown:{auraId:{spellId:26297}}}}},{auraIsActive:{auraId:{spellId:2825,tag:-1}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:2825,tag:-1}}},rhs:{const:{val:"2s"}}}}]}}]}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:44457}}},{cmp:{op:"OpGt",lhs:{mageCurrentCombustionDotEstimate:{}},rhs:{const:{val:"260000"}}}}]}},castSpell:{spellId:{spellId:11129}}}},{action:{condition:{and:{vals:[{or:{vals:[{and:{vals:[{auraIsKnown:{auraId:{spellId:26297}}},{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"17s"}}}}]}},{and:{vals:[{not:{val:{auraIsKnown:{auraId:{spellId:26297}}}}},{not:{val:{auraIsActive:{auraId:{spellId:2825,tag:-1}}}}}]}}]}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:44457}}},{cmp:{op:"OpGt",lhs:{mageCurrentCombustionDotEstimate:{}},rhs:{const:{val:"190000"}}}}]}},castSpell:{spellId:{spellId:11129}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLt",lhs:{remainingTime:{}},rhs:{const:{val:"15s"}}}},{cmp:{op:"OpGt",lhs:{mageCurrentCombustionDotEstimate:{}},rhs:{const:{val:"190000"}}}}]}},castSpell:{spellId:{spellId:11129}}}},{action:{condition:{and:{vals:[{auraIsActiveWithReactionTime:{auraId:{spellId:48108}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{spellTravelTime:{spellId:{spellId:11366}}}}}]}},castSpell:{spellId:{spellId:11366}}}},{action:{castSpell:{spellId:{spellId:82731}}}},{action:{condition:{and:{vals:[{auraIsInactiveWithReactionTime:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:44457}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{const:{val:"5s"}}}}]}},castSpell:{spellId:{spellId:44457}}}},{hide:!0,action:{condition:{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{const:{val:"30s"}}}},castSpell:{spellId:{spellId:55342}}}},{hide:!0,action:{condition:{cmp:{op:"OpLt",lhs:{currentManaPercent:{}},rhs:{const:{val:"40%"}}}},channelSpell:{spellId:{spellId:12051},interruptIf:{and:{vals:[{cmp:{op:"OpGt",lhs:{currentManaPercent:{}},rhs:{const:{val:"20%"}}}},{cmp:{op:"OpLt",lhs:{remainingTime:{}},rhs:{const:{val:"20s"}}}}]}}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"25s"}}}},{cmp:{op:"OpLt",lhs:{currentManaPercent:{}},rhs:{const:{val:"90%"}}}}]}},castSpell:{spellId:{itemId:36799}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{remainingTime:{}},rhs:{const:{val:"20s"}}}},{cmp:{op:"OpLt",lhs:{currentManaPercent:{}},rhs:{const:{val:"10%"}}}}]}},castSpell:{spellId:{spellId:6117}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{const:{val:"5.15s"}}}},{cmp:{op:"OpLe",lhs:{math:{op:"OpAdd",lhs:{dotRemainingTime:{spellId:{spellId:44457}}},rhs:{inputDelay:{}}}},rhs:{const:{val:"0.15s"}}}},{dotIsActive:{spellId:{spellId:44457}}}]}},wait:{duration:{math:{op:"OpAdd",lhs:{dotRemainingTime:{spellId:{spellId:44457}}},rhs:{inputDelay:{}}}}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGt",lhs:{currentManaPercent:{}},rhs:{const:{val:"10%"}}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{math:{op:"OpAdd",lhs:{spellCastTime:{spellId:{spellId:133}}},rhs:{spellTravelTime:{spellId:{spellId:133}}}}}}}]}},castSpell:{spellId:{spellId:133}}}},{action:{condition:{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{spellCastTime:{spellId:{spellId:2948}}}}},castSpell:{spellId:{spellId:2948}}}},{action:{castSpell:{spellId:{spellId:2136}}}}]},ae={items:[{id:71508,enchant:4207,gems:[68780,52207],reforging:165},{id:71472,gems:[52207],reforging:165},{id:71511,enchant:4200,gems:[52239],reforging:144},{id:71434,enchant:4115,reforging:165},{id:71510,enchant:4102,gems:[52239,52217]},{id:71471,enchant:4257,gems:[0],reforging:144},{id:71614,enchant:4068,gems:[52207,0],reforging:144},{id:71613,gems:[52207,52207],reforging:165},{id:71509,enchant:4112,gems:[52207,52207],reforging:165},{id:71447,enchant:4104,gems:[52207],reforging:151},{id:71217,gems:[52207]},{id:71449,reforging:165},{id:69110},{id:62047,reforging:165},{id:71086,enchant:4097,gems:[52207,52207,52207],reforging:152},{},{id:71575,reforging:137}]},se={items:[{id:60237,enchant:4207,gems:[68780,52217],reforging:151},{id:71213},{id:60246,enchant:4200,gems:[52207],reforging:152},{id:60232,enchant:4115,gems:[52239],reforging:166},{id:71289,enchant:4102,gems:[52239,52217],reforging:152},{id:71265,enchant:4108,gems:[0],reforging:166},{id:60247,enchant:4107,gems:[52207,0],reforging:165},{id:65376,randomSuffix:-229,gems:[52239,52207],reforging:151},{id:71288,enchant:4112,gems:[52207,52207],reforging:165},{id:69954,enchant:4104,gems:[52207],reforging:138},{id:65373,randomSuffix:-129},{id:71210,reforging:166},{id:65053},{id:62047,reforging:165},{id:70156,enchant:4097},{id:70112,enchant:4091,reforging:167},{id:71151,reforging:152}]},ne={items:[{id:78701,enchant:4207,gems:[68780,71881],reforging:151},{id:77088,reforging:152},{id:78748,enchant:4200,gems:[71881,71881],reforging:165},{id:77098,enchant:4115,gems:[71881],reforging:166},{id:78729,enchant:4102,gems:[71881,71881,71842],reforging:152},{id:78417,enchant:4257,gems:[71881,0],reforging:166},{id:78461,enchant:4068,gems:[71881,71881,0],reforging:151},{id:78391,gems:[71881,71881,71881],reforging:151},{id:78720,enchant:4114,gems:[71881,71881,71842],reforging:166},{id:78449,enchant:4104,gems:[71881,71881],reforging:151},{id:78419,gems:[71881],reforging:165},{id:78490,gems:[71881]},{id:77995},{id:77991},{id:71086,enchant:4097,gems:[71881,71881,71881],reforging:152},{},{id:78392,reforging:166}]},oe={items:[{},{},{},{},{},{},{},{},{},{},{},{},{id:77989},{},{id:78477,enchant:4083},{},{}]},le=F("P1 Preset",{items:[{id:60237,enchant:4207,gems:[68780,52217],reforging:151},{id:69882,randomSuffix:-129,reforging:145},{id:65213,enchant:4200,gems:[52207],reforging:152},{id:60232,enchant:4115,gems:[52239],reforging:165},{id:65212,enchant:4102,gems:[52207,52217],reforging:144},{id:65138,enchant:4108,gems:[0],reforging:165},{id:65209,enchant:4107,gems:[52208,0],reforging:165},{id:65034,gems:[52207,52207],reforging:144},{id:65211,enchant:4112,gems:[52239,52207]},{id:65069,enchant:4104,gems:[52207],reforging:165},{id:65373,randomSuffix:-129,reforging:145},{id:65123,reforging:165},{id:65105},{id:62047,reforging:165},{id:68132,randomSuffix:-129,enchant:4097,reforging:145},{id:65133,enchant:4091},{id:59460,reforging:167}]},{talentTree:1}),ie=F("P3 Pre-raid",se,{talentTree:1}),re=F("P3 Preset",ae,{talentTree:1}),ce=F("P4 Preset",ne,{talentTree:1}),pe=e.create({combustThreshold:47e4,combustLastMomentLustPercentage:115e3,combustNoLustPercentage:225e3}),de=e.create({combustThreshold:515e3,combustLastMomentLustPercentage:14e4,combustNoLustPercentage:26e4}),ue=e.create({combustThreshold:37e4,combustLastMomentLustPercentage:14e4,combustNoLustPercentage:275e3}),me=e.create({combustThreshold:715e3,combustLastMomentLustPercentage:15e4,combustNoLustPercentage:3e5}),ge=e.create({combustThreshold:515e3,combustLastMomentLustPercentage:15e4,combustNoLustPercentage:3e5}),he=H("P4 - Haste",oe),Ie=W("P1 - Default",t.SpecFireMage,pe),fe=W("P3 - Default",t.SpecFireMage,de),ve=W("P3 - Not Troll",t.SpecFireMage,ue),Se=W("P4 - Default",t.SpecFireMage,me),Te=W("P4 - Not Troll",t.SpecFireMage,ge),be=N("APL",te,{talentTree:1}),Pe=x("Default",a.fromMap({[s.StatIntellect]:1.33,[s.StatSpellPower]:1,[s.StatHitRating]:1.09,[s.StatCritRating]:.62,[s.StatHasteRating]:.82,[s.StatMasteryRating]:.46})),Ce={name:"Fire",data:n.create({talentsString:"003-230330221120121213231-03",glyphs:o.create({prime1:l.GlyphOfFireball,prime2:l.GlyphOfPyroblast,prime3:l.GlyphOfMoltenArmor,major1:i.GlyphOfEvocation,major2:i.GlyphOfDragonsBreath,major3:i.GlyphOfInvisibility,minor1:r.GlyphOfMirrorImage,minor2:r.GlyphOfArmors,minor3:r.GlyphOfTheMonkey})})},Le=c.create({classOptions:{}}),Oe=p.create({arcaneBrilliance:!0,bloodlust:!0,markOfTheWild:!0,icyTalons:!0,moonkinForm:!0,leaderOfThePack:!0,powerWordFortitude:!0,strengthOfEarthTotem:!0,trueshotAura:!0,wrathOfAirTotem:!0,demonicPact:!0,blessingOfKings:!0,blessingOfMight:!0,communion:!0}),ke=d.create({flaskId:58086,foodId:62290,potId:58091,prepotId:58091,tinkerId:82174}),ye=u.create({ebonPlaguebringer:!0,shadowAndFlame:!0}),we={distanceFromTarget:20,profession1:m.Engineering,profession2:m.Tailoring},Re=[{unitStat:g.fromPseudoStat(h.PseudoStatSpellHastePercent),presets:new Map([["11-tick - Combust",4.98689],["5-tick - LvB/Pyro",12.50704],["12-tick - Combust",15.00864],["BL - 15-tick - Combust",20.86054],["13-tick - Combust",25.07819],["BL - 16-tick - Combust",29.09891],["14-tick - Combust",35.04391],["BL - 17-tick - Combust",37.40041],["6-tick - LvB/Pyro",37.52006],["15-tick - Combust",45.03265],["16-tick - Combust",54.91869],["7-tick - LvB/Pyro",62.46955],["17-tick - Combust",64.88049],["18-tick - Combust",74.97816],["19-tick - Combust",85.01391],["8-tick - LvB/Pyro",87.44144],["20-tick - Combust",95.12199],["21-tick - Combust",105.12825]])}],Ae=K("P1 - Default",{race:I.RaceTroll,gear:le,rotation:Ie,epWeights:Pe}),Be=K("P3 - Default (Troll)",{race:I.RaceTroll,gear:re,rotation:fe,epWeights:Pe}),Ge=K("P3 - Default (Worgen)",{race:I.RaceWorgen,gear:re,rotation:ve,epWeights:Pe}),Me=K("P4 - Default (Troll)",{race:I.RaceTroll,gear:ce,rotation:Se}),De=K("P4 - Default (Worgen)",{race:I.RaceWorgen,gear:ce,rotation:Te}),Ee=Re.find((e=>e.unitStat.equalsPseudoStat(h.PseudoStatSpellHastePercent))).presets,Fe=V(t.SpecFireMage,{cssClass:"fire-mage-sim-ui",cssScheme:f.getCssClass(f.Mage),knownIssues:[],epStats:[s.StatIntellect,s.StatSpellPower,s.StatHitRating,s.StatCritRating,s.StatHasteRating,s.StatMasteryRating],epReferenceStat:s.StatSpellPower,displayStats:g.createDisplayStatArray([s.StatHealth,s.StatMana,s.StatStamina,s.StatIntellect,s.StatSpellPower,s.StatMasteryRating],[h.PseudoStatSpellHitPercent,h.PseudoStatSpellCritPercent,h.PseudoStatSpellHastePercent]),defaults:{gear:ce.gear,epWeights:Pe.epWeights,statCaps:(new a).withPseudoStat(h.PseudoStatSpellHitPercent,17),softCapBreakpoints:[v.fromPseudoStat(h.PseudoStatSpellHastePercent,{breakpoints:[Ee.get("5-tick - LvB/Pyro"),Ee.get("12-tick - Combust"),Ee.get("13-tick - Combust"),Ee.get("14-tick - Combust"),Ee.get("6-tick - LvB/Pyro"),Ee.get("15-tick - Combust"),Ee.get("16-tick - Combust"),Ee.get("7-tick - LvB/Pyro"),Ee.get("17-tick - Combust"),Ee.get("18-tick - Combust"),Ee.get("19-tick - Combust"),Ee.get("8-tick - LvB/Pyro"),Ee.get("20-tick - Combust"),Ee.get("21-tick - Combust")],capType:S.TypeThreshold,postCapEPs:[.61*T]})],consumables:ke,rotationType:b.TypeSimple,simpleRotation:me,talents:Ce.data,specOptions:Le,other:we,raidBuffs:Oe,partyBuffs:P.create({manaTideTotems:1}),individualBuffs:C.create({innervateCount:0,vampiricTouch:!0}),debuffs:ye},playerIconInputs:[],rotationInputs:ee,includeBuffDebuffInputs:[U,j,$,_,q],excludeBuffDebuffInputs:[],otherInputs:{inputs:[J,Z,X,Y]},itemSwapSlots:[L.ItemSlotMainHand,L.ItemSlotHands,L.ItemSlotTrinket1,L.ItemSlotTrinket2],encounterPicker:{showExecuteProportion:!0},presets:{epWeights:[Pe],rotations:[Ie,fe,ve,Se,Te,be],talents:[Ce],gear:[le,ie,re,ce],itemSwaps:[he],builds:[Ae,Be,Ge,Me,De]},autoRotation:()=>be.rotation.rotation,simpleRotation:(e,t)=>{if(0!==t.igniteCombustThreshold||0!==t.igniteLastMomentLustPercentage||0!==t.igniteNoLustPercentage){const t=e.getRace()===I.RaceTroll?de:ue;e.setSimpleRotation(O.nextEventID(),t)}const a=be.rotation.rotation,{combustThreshold:s,combustLastMomentLustPercentage:n,combustNoLustPercentage:o}=t,l=k.fromJsonString(`{"condition":{"and":{"vals":[{"or":{"vals":[{"and":{"vals":[{"auraIsKnown":{"auraId":{"spellId":26297}}},{"auraIsActive":{"auraId":{"spellId":26297}}},{"cmp":{"op":"OpLe","lhs":{"currentTime":{}},"rhs":{"const":{"val":"17s"}}}}]}},{"and":{"vals":[{"not":{"val":{"auraIsKnown":{"auraId":{"spellId":26297}}}}},{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":2825,"tag":-1}}},"rhs":{"const":{"val":"2s"}}}}]}}]}},{"auraIsActive":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":44457}}},{"cmp":{"op":"OpGt","lhs":{"mageCurrentCombustionDotEstimate":{}},"rhs":{"const":{"val":"${s}"}}}}]}},"castSpell":{"spellId":{"spellId":11129}}}`),i=k.fromJsonString(`{"condition":{"and":{"vals":[{"or":{"vals":[{"and":{"vals":[{"auraIsKnown":{"auraId":{"spellId":26297}}},{"auraIsActive":{"auraId":{"spellId":26297}}},{"cmp":{"op":"OpLt","lhs":{"auraRemainingTime":{"auraId":{"spellId":26297}}},"rhs":{"const":{"val":"2.5s"}}}},{"cmp":{"op":"OpLe","lhs":{"currentTime":{}},"rhs":{"const":{"val":"17s"}}}}]}},{"and":{"vals":[{"not":{"val":{"auraIsKnown":{"auraId":{"spellId":26297}}}}},{"auraIsActive":{"auraId":{"spellId":2825,"tag":-1}}},{"cmp":{"op":"OpLe","lhs":{"auraRemainingTime":{"auraId":{"spellId":2825,"tag":-1}}},"rhs":{"const":{"val":"2s"}}}}]}}]}},{"auraIsActive":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":44457}}},{"cmp":{"op":"OpGt","lhs":{"mageCurrentCombustionDotEstimate":{}},"rhs":{"const":{"val":"${n}"}}}}]}},"castSpell":{"spellId":{"spellId":11129}}}`),r=k.fromJsonString(`{"condition":{"and":{"vals":[{"or":{"vals":[{"and":{"vals":[{"auraIsKnown":{"auraId":{"spellId":26297}}},{"cmp":{"op":"OpGt","lhs":{"currentTime":{}},"rhs":{"const":{"val":"17s"}}}}]}},{"and":{"vals":[{"not":{"val":{"auraIsKnown":{"auraId":{"spellId":26297}}}}},{"not":{"val":{"auraIsActive":{"auraId":{"spellId":2825,"tag":-1}}}}}]}}]}},{"auraIsActive":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":44457}}},{"cmp":{"op":"OpGt","lhs":{"mageCurrentCombustionDotEstimate":{}},"rhs":{"const":{"val":"${o}"}}}}]}},"castSpell":{"spellId":{"spellId":11129}}}`),c=k.fromJsonString(`{"condition":{"and":{"vals":[{"cmp":{"op":"OpLt","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"15s"}}}},{"cmp":{"op":"OpGt","lhs":{"mageCurrentCombustionDotEstimate":{}},"rhs":{"const":{"val":"${n}"}}}}]}},"castSpell":{"spellId":{"spellId":11129}}}`),p=a;return p.priorityList[5]=y.create({action:l}),p.priorityList[6]=y.create({action:i}),p.priorityList[7]=y.create({action:r}),p.priorityList[8]=y.create({action:c}),w.create({simple:R.create({cooldowns:A.create()}),prepullActions:p.prepullActions,priorityList:p.priorityList})},hiddenMCDs:[26297,2825,12051,82731,36799,55342,82174,58091],raidSimPresets:[{spec:t.SpecFireMage,talents:Ce.data,specOptions:Le,consumables:ke,otherDefaults:we,defaultFactionRaces:{[B.Unknown]:I.RaceUnknown,[B.Alliance]:I.RaceWorgen,[B.Horde]:I.RaceTroll},defaultGear:{[B.Unknown]:{},[B.Alliance]:{1:re.gear,2:ie.gear},[B.Horde]:{1:re.gear,2:ie.gear}}}]});class He extends z{constructor(e,t){super(e,t,Fe),t.sim.waitForInit().then((()=>{new Q(this,{statSelectionPresets:Re,enableBreakpointLimits:!0,updateSoftCaps:e=>{const a=t.getRaid()?.getBuffs(),s=!!(a?.bloodlust||a?.timeWarp||a?.heroism),n=!!t.getBuffs().powerInfusionCount,o=t.getRace()===I.RaceTroll,l=(e,t)=>Number(D(100*((e/100+1)/t-1),{maximumFractionDigits:5}));return this.individualConfig.defaults.softCapBreakpoints.forEach((t=>{const a=e.find((e=>e.unitStat.equals(t.unitStat)));if(t.unitStat.equalsPseudoStat(h.PseudoStatSpellHastePercent)&&a){const e=new Set([...t.breakpoints]),i=t=>[...e.values()].find((e=>e.toFixed(2)===t.toFixed(2))),r=[Ee.get("5-tick - LvB/Pyro"),Ee.get("6-tick - LvB/Pyro"),Ee.get("7-tick - LvB/Pyro"),Ee.get("8-tick - LvB/Pyro")];t.breakpoints.forEach((t=>{const a=r.includes(t);if(s){const a=l(t,1.3);if(a>0&&(i(a)||e.add(a),o)){const t=l(a,1.2);t>0&&!i(t)&&e.add(t)}}if(n&&!a){const a=l(t,1.2);if(a>0&&(i(a)||e.add(a),o)){const t=l(a,1.2);t>0&&!i(t)&&e.add(t)}}})),a.breakpoints=[...e].sort(((e,t)=>e-t))}})),e},additionalSoftCapTooltipInformation:{[s.StatHasteRating]:()=>{const e=t.getRaid()?.getBuffs(),a=!!(e?.bloodlust||e?.timeWarp||e?.heroism),s=!!t.getBuffs().powerInfusionCount,n=t.getRace()===I.RaceTroll;return G(M,null,(a||s||n)&&G(M,null,G("p",{className:"mb-0"},"Additional breakpoints have been created using the following cooldowns:"),G("ul",{className:"mb-0"},a&&G("li",null,"Bloodlust"),s&&G("li",null,"Power Infusion"),n&&G("li",null,"Berserking"))))}}})}))}}export{He as F};
