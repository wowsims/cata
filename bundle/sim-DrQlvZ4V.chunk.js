import{l as e,n as t,o as a,s,W as n,u as i,t as o,a7 as r,J as l,x as p,L as d}from"./preset_utils-pCalmhXL.chunk.js";import{R as c}from"./suggest_reforges_action-COs6tVdS.chunk.js";import{a5 as g,a6 as m,a7 as u,a8 as h,G as I,bi as S,bj as f,bm as P,bl as y,ad as O,a as v,ae as b,af as C,aq as R,ar as T,ag as A,ah as H,ai as k,aj as w,ak as E,S as G,F as M,b as D,bn as x}from"./detailed_results-DLxs8mbv.chunk.js";import{A as W,M as F,O as L,T as q}from"./inputs-CMmU2dWP.chunk.js";const B={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{spellId:57934}}},doAtValue:{const:{val:"-1s"}}},{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:5171}}}}},{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"0"}}}}]}},strictSequence:{actions:[{castSpell:{spellId:{spellId:1752}}},{castSpell:{spellId:{spellId:5171}}}]}}},{action:{condition:{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:5171}}},rhs:{const:{val:"1"}}}},castSpell:{spellId:{spellId:5171}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLe",lhs:{currentEnergy:{}},rhs:{const:{val:"40"}}}},{and:{vals:[{auraIsActive:{auraId:{spellId:2825,tag:-1}}},{auraIsKnown:{auraId:{spellId:109949}}}]}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"10"}}}},{and:{vals:[{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},{not:{val:{auraIsKnown:{auraId:{spellId:109949}}}}}]}}]}},castSpell:{spellId:{spellId:51690}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpGt",lhs:{spellTimeToReady:{spellId:{spellId:51690}}},rhs:{const:{val:"15"}}}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"20"}}}}]}},castSpell:{spellId:{spellId:13750}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},{not:{val:{dotIsActive:{spellId:{spellId:1943}}}}},{not:{val:{auraIsActive:{auraId:{spellId:84747}}}}},{not:{val:{auraIsActive:{auraId:{spellId:13877}}}}},{not:{val:{auraIsActive:{auraId:{spellId:13750}}}}},{cmp:{op:"OpGe",lhs:{remainingTime:{}},rhs:{const:{val:"12"}}}},{not:{val:{auraIsActive:{auraId:{spellId:2825,tag:-1}}}}},{or:{vals:[{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:33876}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:16511}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:57386}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:29859}}}]}}]}},castSpell:{spellId:{spellId:1943}}}},{action:{condition:{cmp:{op:"OpGe",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},castSpell:{spellId:{spellId:2098}}}},{hide:!0,action:{condition:{cmp:{op:"OpLt",lhs:{dotRemainingTime:{spellId:{spellId:96648}}},rhs:{const:{val:"1.5"}}}},castSpell:{spellId:{spellId:5938}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLe",lhs:{currentComboPoints:{}},rhs:{const:{val:"4"}}}},{not:{val:{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:84617}}}}},{cmp:{op:"OpGt",lhs:{auraRemainingTime:{auraId:{spellId:5171}}},rhs:{const:{val:"5"}}}}]}},castSpell:{spellId:{spellId:84617}}}},{hide:!0,action:{condition:{and:{vals:[{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"4"}}}},{not:{val:{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:84617}}}}},{cmp:{op:"OpGt",lhs:{auraRemainingTime:{auraId:{spellId:5171}}},rhs:{const:{val:"3"}}}}]}},castSpell:{spellId:{spellId:84617}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLt",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},{cmp:{op:"OpLe",lhs:{currentEnergy:{}},rhs:{const:{val:"40"}}}}]}},castSpell:{spellId:{spellId:1776}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLt",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}}]}},castSpell:{spellId:{spellId:1752}}}},{action:{castSpell:{spellId:{spellId:57934}}}}]},j={items:[{id:71539,enchant:4209,gems:[68778,52211],reforging:140},{id:71610},{id:71541,enchant:4204,gems:[52212],reforging:168},{id:71415,enchant:4100,gems:[52212,52212],reforging:138},{id:71455,enchant:4102,gems:[52212,52212],reforging:153},{id:71428,randomSuffix:-136,enchant:4258,gems:[0],reforging:168},{id:71538,enchant:4107,gems:[52212,0],reforging:147},{id:71641,gems:[52220,52212],reforging:145},{id:71540,enchant:4126,gems:[52212,52220],reforging:145},{id:71467,enchant:4105,gems:[52212],reforging:145},{id:71216,gems:[52212],reforging:153},{id:71401,reforging:153},{id:69150},{id:69112},{id:71454,enchant:4099,reforging:145},{id:71427,enchant:4099,gems:[52212],reforging:161},{id:71611,reforging:147}]},U={items:[{id:78699,enchant:4209,gems:[68778,71879],reforging:147},{id:71610},{id:78368,enchant:4204,gems:[71879,71879],reforging:165},{id:71415,enchant:4100,gems:[71879,71879],reforging:138},{id:78664,enchant:4102,gems:[71879,71879,71879]},{id:78446,enchant:4258,gems:[71879,71879],reforging:147},{id:78679,enchant:4107,gems:[71879,71879],reforging:160},{id:78388,gems:[71879,71879,71879],reforging:145},{id:78708,enchant:4126,gems:[71879,71879,71848],reforging:145},{id:78462,enchant:4105,gems:[71879,71879],reforging:161},{id:78489,gems:[71879],reforging:160},{id:78413,gems:[71879],reforging:144},{id:77994},{id:77999},{id:77949,enchant:4099,gems:[71879],reforging:147},{id:77950,enchant:4099,gems:[71879],reforging:158},{id:78369,reforging:139}]},V={items:[{id:78794,enchant:4209,gems:[68778,52212],reforging:146},{id:77091,reforging:139},{id:78833,enchant:4204,gems:[52212,52211],reforging:144},{id:77095,enchant:1099,gems:[52212],reforging:146},{id:78759,enchant:4102,gems:[52212,52212,52212],reforging:165},{id:71994,enchant:4258,gems:[52212,52212,0],reforging:139},{id:78774,enchant:4107,gems:[52212,0],reforging:160},{id:77180,gems:[52212,52220,52212],reforging:165},{id:71985,enchant:4126,gems:[52212,52211,52211],reforging:167},{id:78467,enchant:4105,gems:[52212,52212],reforging:158},{id:77111,gems:[52211],reforging:168},{id:78494,gems:[52212],reforging:167},{id:77974},{id:77979},{id:78481,enchant:4099},{id:78422,enchant:4099,gems:[52212]},{id:78374}]},_=e("P1 Combat",{items:[{id:65241,enchant:4209,gems:[68778,52220],reforging:145},{id:65107,reforging:168},{id:65243,enchant:4204,gems:[52220],reforging:144},{id:69884,randomSuffix:-136,enchant:1099,reforging:168},{id:65239,enchant:4102,gems:[52212,52220],reforging:151},{id:65050,enchant:4258,gems:[0],reforging:145},{id:65240,enchant:4107,gems:[52212,0],reforging:153},{id:60231,gems:[52220,52212,52212],reforging:146},{id:65381,randomSuffix:-202,enchant:4126,gems:[52212,52220],reforging:168},{id:65144,enchant:4105,gems:[52212],reforging:168},{id:65367,randomSuffix:-136,reforging:165},{id:65082,reforging:145},{id:65026},{id:58181,reforging:138},{id:68130,randomSuffix:-136,enchant:4099,reforging:165},{id:68600,enchant:4099,reforging:144},{id:65095,reforging:146}]}),K=e("P3 Combat",j),z=e("Pre-Raid Combat",V),J=e("P4 Combat",U),N=t("Combat",B),Q=a("Combat Standard",g.fromMap({[m.StatAgility]:2.85,[m.StatStrength]:1.05,[m.StatAttackPower]:1,[m.StatCritRating]:1.2,[m.StatHitRating]:2.5,[m.StatHasteRating]:1.58,[m.StatMasteryRating]:1.41,[m.StatExpertiseRating]:2.1},{[u.PseudoStatMainHandDps]:4.31,[u.PseudoStatOffHandDps]:1.32,[u.PseudoStatSpellHitPercent]:52,[u.PseudoStatPhysicalHitPercent]:249})),X=a("Combat 4PT12",g.fromMap({[m.StatAgility]:2.85,[m.StatStrength]:1.05,[m.StatAttackPower]:1,[m.StatCritRating]:1.16,[m.StatHitRating]:2.21,[m.StatHasteRating]:1.38,[m.StatMasteryRating]:1.28,[m.StatExpertiseRating]:2.1},{[u.PseudoStatMainHandDps]:4.31,[u.PseudoStatOffHandDps]:1.32,[u.PseudoStatSpellHitPercent]:46,[u.PseudoStatPhysicalHitPercent]:230})),Y={name:"Combat",data:h.create({talentsString:"0322-2332030310230012321-003",glyphs:I.create({prime1:S.GlyphOfAdrenalineRush,prime2:S.GlyphOfSinisterStrike,prime3:S.GlyphOfSliceAndDice,major1:f.GlyphOfBladeFlurry,major2:f.GlyphOfTricksOfTheTrade,major3:f.GlyphOfGouge})})},Z=P.create({classOptions:{mhImbue:y.InstantPoison,ohImbue:y.DeadlyPoison,thImbue:y.WoundPoison,applyPoisonsManually:!1,startingOverkillDuration:20,vanishBreakTime:.1}}),$=O.create({flaskId:58087,foodId:62669,potId:58145,prepotId:58145,conjuredId:7676}),ee={distanceFromTarget:5},te=s(G.SpecCombatRogue,{cssClass:"combat-rogue-sim-ui",cssScheme:v.getCssClass(v.Rogue),knownIssues:[],epStats:[m.StatAgility,m.StatStrength,m.StatAttackPower,m.StatHitRating,m.StatCritRating,m.StatHasteRating,m.StatMasteryRating,m.StatExpertiseRating],epPseudoStats:[u.PseudoStatMainHandDps,u.PseudoStatOffHandDps,u.PseudoStatPhysicalHitPercent,u.PseudoStatSpellHitPercent],epReferenceStat:m.StatAttackPower,displayStats:b.createDisplayStatArray([m.StatHealth,m.StatStamina,m.StatAgility,m.StatStrength,m.StatAttackPower,m.StatMasteryRating,m.StatExpertiseRating],[u.PseudoStatPhysicalHitPercent,u.PseudoStatSpellHitPercent,u.PseudoStatPhysicalCritPercent,u.PseudoStatSpellCritPercent,u.PseudoStatMeleeHastePercent]),defaults:{gear:J.gear,epWeights:Q.epWeights,statCaps:(new g).withStat(m.StatExpertiseRating,26*C),softCapBreakpoints:(()=>{const e=R.fromPseudoStat(u.PseudoStatSpellHitPercent,{breakpoints:[16.95,16.96,16.97,16.98,16.99,17],capType:T.TypeSoftCap,postCapEPs:[0,0,0,0,0,0]});return[R.fromPseudoStat(u.PseudoStatPhysicalHitPercent,{breakpoints:[8,27],capType:T.TypeSoftCap,postCapEPs:[0,0]}),e]})(),other:ee,consumables:$,talents:Y.data,specOptions:Z,raidBuffs:A.create({arcaneBrilliance:!0,bloodlust:!0,markOfTheWild:!0,icyTalons:!0,moonkinForm:!0,leaderOfThePack:!0,powerWordFortitude:!0,strengthOfEarthTotem:!0,trueshotAura:!0,wrathOfAirTotem:!0,demonicPact:!0,blessingOfKings:!0,blessingOfMight:!0,communion:!0}),partyBuffs:H.create({}),individualBuffs:k.create({}),debuffs:w.create({mangle:!0,faerieFire:!0,shadowAndFlame:!0,earthAndMoon:!0,bloodFrenzy:!0})},playerInputs:{inputs:[W()]},playerIconInputs:[F(),L(),q()],includeBuffDebuffInputs:[n,i,o,r],excludeBuffDebuffInputs:[],otherInputs:{inputs:[l,p]},itemSwapSlots:[E.ItemSlotHead,E.ItemSlotNeck,E.ItemSlotShoulder,E.ItemSlotBack,E.ItemSlotChest,E.ItemSlotWrist,E.ItemSlotHands,E.ItemSlotWaist,E.ItemSlotLegs,E.ItemSlotFeet,E.ItemSlotFinger1,E.ItemSlotFinger2,E.ItemSlotTrinket1,E.ItemSlotTrinket2,E.ItemSlotMainHand,E.ItemSlotOffHand,E.ItemSlotRanged],encounterPicker:{showExecuteProportion:!1},presets:{epWeights:[Q,X],talents:[Y],rotations:[N],gear:[z,_,K,J]},autoRotation:e=>{e.sim.encounter.targets.length;return N.rotation.rotation},raidSimPresets:[{spec:G.SpecCombatRogue,talents:Y.data,specOptions:Z,consumables:$,defaultFactionRaces:{[M.Unknown]:D.RaceUnknown,[M.Alliance]:D.RaceHuman,[M.Horde]:D.RaceOrc},defaultGear:{[M.Unknown]:{},[M.Alliance]:{1:_.gear},[M.Horde]:{1:_.gear}},otherDefaults:ee}]}),ae=(e,t)=>{if(t.getUseCustomEPValues())return e.getEpWeights();return e.getGear().getItemSetCount("Vestments of the Dark Phoenix")>=4?X.epWeights:Q.epWeights};class se extends d{constructor(e,t){super(e,t,te),t.sim.waitForInit().then((()=>{new c(this,{updateSoftCaps:e=>{const a=ae(t,this.sim),s=e.find((e=>e.unitStat.equalsPseudoStat(u.PseudoStatPhysicalHitPercent)));if(s){const e=a.getPseudoStat(u.PseudoStatPhysicalHitPercent);s.postCapEPs=[.6*e,0]}return e},getEPDefaults:e=>ae(e,this.sim),updateGearStatsModifier:e=>{const a=t.getEquippedItem(E.ItemSlotMainHand)?.item.weaponType,s=t.getRace();return s==D.RaceHuman&&(a==x.WeaponTypeSword||a==x.WeaponTypeMace)||s==D.RaceOrc&&(a==x.WeaponTypeAxe||a==x.WeaponTypeFist)||s==D.RaceGnome&&(a==x.WeaponTypeDagger||a==x.WeaponTypeSword)?e.addStat(m.StatExpertiseRating,90):e}})})),this.player.changeEmitter.on((e=>{const t=this.player.getSpecOptions(),a=this.sim.encounter;if(!t.classOptions.applyPoisonsManually){const e=this.player.getGear().getEquippedItem(E.ItemSlotMainHand)?.item.weaponSpeed,s=this.player.getGear().getEquippedItem(E.ItemSlotOffHand)?.item.weaponSpeed;if(void 0===e||void 0===s)return;a.targets.length>3?(t.classOptions.mhImbue=y.InstantPoison,t.classOptions.ohImbue=y.InstantPoison):e<=s?(t.classOptions.mhImbue=y.DeadlyPoison,t.classOptions.ohImbue=y.InstantPoison):(t.classOptions.mhImbue=y.InstantPoison,t.classOptions.ohImbue=y.DeadlyPoison)}this.player.setSpecOptions(e,t)})),this.sim.encounter.changeEmitter.on((e=>{const t=this.player.getSpecOptions(),a=this.sim.encounter;if(!t.classOptions.applyPoisonsManually){const e=this.player.getGear().getEquippedItem(E.ItemSlotMainHand)?.item.weaponSpeed,s=this.player.getGear().getEquippedItem(E.ItemSlotOffHand)?.item.weaponSpeed;if(void 0===e||void 0===s)return;a.targets.length>3?(t.classOptions.mhImbue=y.InstantPoison,t.classOptions.ohImbue=y.InstantPoison):e<=s?(t.classOptions.mhImbue=y.DeadlyPoison,t.classOptions.ohImbue=y.InstantPoison):(t.classOptions.mhImbue=y.InstantPoison,t.classOptions.ohImbue=y.DeadlyPoison)}this.player.setSpecOptions(e,t)}))}}export{se as C};
